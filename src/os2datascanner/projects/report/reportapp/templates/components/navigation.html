{%  load i18n %}
{% load get_settings_tag %}

<nav class="navigation">
  <ul>
    <li>
      <a href="/" class="{% if request.path == '/' %}active{% endif %}">
        {% include "components/svg-icons/home.svg" %}
        <span class="width">{% trans "Front page" %}</span>
      </a>
    </li>

    {% for r in nav_items %}
      {% if r == "DataProtectionOfficer" or r == 'Leader' %}
      <li>
        {% if r == "Leader" %}
        <a href="/statistics/leader" class="{% if request.path == '/statistics/leader/' %}active{% endif %}">
          {% include "components/svg-icons/bar_chart.svg" %}
          <span class="width">
            {% trans "Leader overview" %}
          </span>
        </a>
        {% else %}
        <a href="/statistics/dpo" class="{% if request.path == '/statistics/dpo/' %}active{% endif %}">
        {% include "components/svg-icons/bar_chart.svg" %}
          <span class="width">
            {% trans "DPO overview" %}
          </span>
        </a>
        {% endif %}
      </li>
      {% endif %}
    {% endfor %}
  </ul>

{% settings_value "KEYCLOAK_ENABLED" as keycloak_enabled %}
{% if keycloak_enabled == True %}
  <ul class="logout">
      <li>
        <form id="logout" method="POST" action="{% url 'oidc_logout' %}">
            {% csrf_token %}
            <a href="javascript:void()" onclick="document.getElementById('logout').submit();">
                {% include "components/svg-icons/logout.svg" %}
                <span class="navigation width">{% trans "Log out" %}</span>
            </a>
        </form>
        </li>
  </ul>
{% else %}
  <ul class="logout">
    <li>
      <a href="/accounts/logout">
        {% include "components/svg-icons/logout.svg" %}
        <span class="width">{% trans "Log out" %}</span>
      </a>
    </li>
  </ul>
{%  endif %}
</nav>
